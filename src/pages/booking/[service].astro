---
import { SERVICES, type ServiceSlug } from "../../components/booking/service-data";
import BookingFlow from "../../components/booking/BookingFlow";
import SiteLayout from "../../layouts/SiteLayout.astro";

export const prerender = false;

const { service } = Astro.params;

const selectedService = service && SERVICES[service as ServiceSlug];

if (!selectedService) {
  throw Astro.redirect("/services");
}
---

<SiteLayout title={`Book ${selectedService.name} | SuperLife Coaching`} description={selectedService.description}>
  <div class="bg-gray-50 py-8 sm:py-16 min-h-screen">
    <div class="mx-auto max-w-5xl px-4 sm:px-6 space-y-6 sm:space-y-10">
      <section class="text-center space-y-2 sm:space-y-3">
        <p class="text-xs uppercase tracking-[0.3em] text-[#D4AF37]">Booking</p>
        <h1 class="text-3xl sm:text-4xl font-semibold text-ink px-4">Book {selectedService.name}</h1>
        <p class="text-gray-600 max-w-2xl mx-auto px-4 text-sm sm:text-base">{selectedService.description}</p>
      </section>

      <BookingFlow client:load service={selectedService} />
    </div>
  </div>
</SiteLayout>
